-- Test case for schema job queue race condition fix
-- Creates 100 tables to stress the schema creation pipeline
-- With multiple threads, without the fix, some tables would be silently lost

DROP DATABASE IF EXISTS specific_29;
CREATE DATABASE specific_29;
USE specific_29;

-- Generate 100 tables with simple schema
-- Each table has an id and some data to ensure data files are created

CREATE TABLE t001 (id INT PRIMARY KEY, data VARCHAR(100));
CREATE TABLE t002 (id INT PRIMARY KEY, data VARCHAR(100));
CREATE TABLE t003 (id INT PRIMARY KEY, data VARCHAR(100));
CREATE TABLE t004 (id INT PRIMARY KEY, data VARCHAR(100));
CREATE TABLE t005 (id INT PRIMARY KEY, data VARCHAR(100));
CREATE TABLE t006 (id INT PRIMARY KEY, data VARCHAR(100));
CREATE TABLE t007 (id INT PRIMARY KEY, data VARCHAR(100));
CREATE TABLE t008 (id INT PRIMARY KEY, data VARCHAR(100));
CREATE TABLE t009 (id INT PRIMARY KEY, data VARCHAR(100));
CREATE TABLE t010 (id INT PRIMARY KEY, data VARCHAR(100));
CREATE TABLE t011 (id INT PRIMARY KEY, data VARCHAR(100));
CREATE TABLE t012 (id INT PRIMARY KEY, data VARCHAR(100));
CREATE TABLE t013 (id INT PRIMARY KEY, data VARCHAR(100));
CREATE TABLE t014 (id INT PRIMARY KEY, data VARCHAR(100));
CREATE TABLE t015 (id INT PRIMARY KEY, data VARCHAR(100));
CREATE TABLE t016 (id INT PRIMARY KEY, data VARCHAR(100));
CREATE TABLE t017 (id INT PRIMARY KEY, data VARCHAR(100));
CREATE TABLE t018 (id INT PRIMARY KEY, data VARCHAR(100));
CREATE TABLE t019 (id INT PRIMARY KEY, data VARCHAR(100));
CREATE TABLE t020 (id INT PRIMARY KEY, data VARCHAR(100));
CREATE TABLE t021 (id INT PRIMARY KEY, data VARCHAR(100));
CREATE TABLE t022 (id INT PRIMARY KEY, data VARCHAR(100));
CREATE TABLE t023 (id INT PRIMARY KEY, data VARCHAR(100));
CREATE TABLE t024 (id INT PRIMARY KEY, data VARCHAR(100));
CREATE TABLE t025 (id INT PRIMARY KEY, data VARCHAR(100));
CREATE TABLE t026 (id INT PRIMARY KEY, data VARCHAR(100));
CREATE TABLE t027 (id INT PRIMARY KEY, data VARCHAR(100));
CREATE TABLE t028 (id INT PRIMARY KEY, data VARCHAR(100));
CREATE TABLE t029 (id INT PRIMARY KEY, data VARCHAR(100));
CREATE TABLE t030 (id INT PRIMARY KEY, data VARCHAR(100));
CREATE TABLE t031 (id INT PRIMARY KEY, data VARCHAR(100));
CREATE TABLE t032 (id INT PRIMARY KEY, data VARCHAR(100));
CREATE TABLE t033 (id INT PRIMARY KEY, data VARCHAR(100));
CREATE TABLE t034 (id INT PRIMARY KEY, data VARCHAR(100));
CREATE TABLE t035 (id INT PRIMARY KEY, data VARCHAR(100));
CREATE TABLE t036 (id INT PRIMARY KEY, data VARCHAR(100));
CREATE TABLE t037 (id INT PRIMARY KEY, data VARCHAR(100));
CREATE TABLE t038 (id INT PRIMARY KEY, data VARCHAR(100));
CREATE TABLE t039 (id INT PRIMARY KEY, data VARCHAR(100));
CREATE TABLE t040 (id INT PRIMARY KEY, data VARCHAR(100));
CREATE TABLE t041 (id INT PRIMARY KEY, data VARCHAR(100));
CREATE TABLE t042 (id INT PRIMARY KEY, data VARCHAR(100));
CREATE TABLE t043 (id INT PRIMARY KEY, data VARCHAR(100));
CREATE TABLE t044 (id INT PRIMARY KEY, data VARCHAR(100));
CREATE TABLE t045 (id INT PRIMARY KEY, data VARCHAR(100));
CREATE TABLE t046 (id INT PRIMARY KEY, data VARCHAR(100));
CREATE TABLE t047 (id INT PRIMARY KEY, data VARCHAR(100));
CREATE TABLE t048 (id INT PRIMARY KEY, data VARCHAR(100));
CREATE TABLE t049 (id INT PRIMARY KEY, data VARCHAR(100));
CREATE TABLE t050 (id INT PRIMARY KEY, data VARCHAR(100));
CREATE TABLE t051 (id INT PRIMARY KEY, data VARCHAR(100));
CREATE TABLE t052 (id INT PRIMARY KEY, data VARCHAR(100));
CREATE TABLE t053 (id INT PRIMARY KEY, data VARCHAR(100));
CREATE TABLE t054 (id INT PRIMARY KEY, data VARCHAR(100));
CREATE TABLE t055 (id INT PRIMARY KEY, data VARCHAR(100));
CREATE TABLE t056 (id INT PRIMARY KEY, data VARCHAR(100));
CREATE TABLE t057 (id INT PRIMARY KEY, data VARCHAR(100));
CREATE TABLE t058 (id INT PRIMARY KEY, data VARCHAR(100));
CREATE TABLE t059 (id INT PRIMARY KEY, data VARCHAR(100));
CREATE TABLE t060 (id INT PRIMARY KEY, data VARCHAR(100));
CREATE TABLE t061 (id INT PRIMARY KEY, data VARCHAR(100));
CREATE TABLE t062 (id INT PRIMARY KEY, data VARCHAR(100));
CREATE TABLE t063 (id INT PRIMARY KEY, data VARCHAR(100));
CREATE TABLE t064 (id INT PRIMARY KEY, data VARCHAR(100));
CREATE TABLE t065 (id INT PRIMARY KEY, data VARCHAR(100));
CREATE TABLE t066 (id INT PRIMARY KEY, data VARCHAR(100));
CREATE TABLE t067 (id INT PRIMARY KEY, data VARCHAR(100));
CREATE TABLE t068 (id INT PRIMARY KEY, data VARCHAR(100));
CREATE TABLE t069 (id INT PRIMARY KEY, data VARCHAR(100));
CREATE TABLE t070 (id INT PRIMARY KEY, data VARCHAR(100));
CREATE TABLE t071 (id INT PRIMARY KEY, data VARCHAR(100));
CREATE TABLE t072 (id INT PRIMARY KEY, data VARCHAR(100));
CREATE TABLE t073 (id INT PRIMARY KEY, data VARCHAR(100));
CREATE TABLE t074 (id INT PRIMARY KEY, data VARCHAR(100));
CREATE TABLE t075 (id INT PRIMARY KEY, data VARCHAR(100));
CREATE TABLE t076 (id INT PRIMARY KEY, data VARCHAR(100));
CREATE TABLE t077 (id INT PRIMARY KEY, data VARCHAR(100));
CREATE TABLE t078 (id INT PRIMARY KEY, data VARCHAR(100));
CREATE TABLE t079 (id INT PRIMARY KEY, data VARCHAR(100));
CREATE TABLE t080 (id INT PRIMARY KEY, data VARCHAR(100));
CREATE TABLE t081 (id INT PRIMARY KEY, data VARCHAR(100));
CREATE TABLE t082 (id INT PRIMARY KEY, data VARCHAR(100));
CREATE TABLE t083 (id INT PRIMARY KEY, data VARCHAR(100));
CREATE TABLE t084 (id INT PRIMARY KEY, data VARCHAR(100));
CREATE TABLE t085 (id INT PRIMARY KEY, data VARCHAR(100));
CREATE TABLE t086 (id INT PRIMARY KEY, data VARCHAR(100));
CREATE TABLE t087 (id INT PRIMARY KEY, data VARCHAR(100));
CREATE TABLE t088 (id INT PRIMARY KEY, data VARCHAR(100));
CREATE TABLE t089 (id INT PRIMARY KEY, data VARCHAR(100));
CREATE TABLE t090 (id INT PRIMARY KEY, data VARCHAR(100));
CREATE TABLE t091 (id INT PRIMARY KEY, data VARCHAR(100));
CREATE TABLE t092 (id INT PRIMARY KEY, data VARCHAR(100));
CREATE TABLE t093 (id INT PRIMARY KEY, data VARCHAR(100));
CREATE TABLE t094 (id INT PRIMARY KEY, data VARCHAR(100));
CREATE TABLE t095 (id INT PRIMARY KEY, data VARCHAR(100));
CREATE TABLE t096 (id INT PRIMARY KEY, data VARCHAR(100));
CREATE TABLE t097 (id INT PRIMARY KEY, data VARCHAR(100));
CREATE TABLE t098 (id INT PRIMARY KEY, data VARCHAR(100));
CREATE TABLE t099 (id INT PRIMARY KEY, data VARCHAR(100));
CREATE TABLE t100 (id INT PRIMARY KEY, data VARCHAR(100));

-- Insert one row per table to ensure data files are created
INSERT INTO t001 VALUES (1, 'data001');
INSERT INTO t002 VALUES (1, 'data002');
INSERT INTO t003 VALUES (1, 'data003');
INSERT INTO t004 VALUES (1, 'data004');
INSERT INTO t005 VALUES (1, 'data005');
INSERT INTO t006 VALUES (1, 'data006');
INSERT INTO t007 VALUES (1, 'data007');
INSERT INTO t008 VALUES (1, 'data008');
INSERT INTO t009 VALUES (1, 'data009');
INSERT INTO t010 VALUES (1, 'data010');
INSERT INTO t011 VALUES (1, 'data011');
INSERT INTO t012 VALUES (1, 'data012');
INSERT INTO t013 VALUES (1, 'data013');
INSERT INTO t014 VALUES (1, 'data014');
INSERT INTO t015 VALUES (1, 'data015');
INSERT INTO t016 VALUES (1, 'data016');
INSERT INTO t017 VALUES (1, 'data017');
INSERT INTO t018 VALUES (1, 'data018');
INSERT INTO t019 VALUES (1, 'data019');
INSERT INTO t020 VALUES (1, 'data020');
INSERT INTO t021 VALUES (1, 'data021');
INSERT INTO t022 VALUES (1, 'data022');
INSERT INTO t023 VALUES (1, 'data023');
INSERT INTO t024 VALUES (1, 'data024');
INSERT INTO t025 VALUES (1, 'data025');
INSERT INTO t026 VALUES (1, 'data026');
INSERT INTO t027 VALUES (1, 'data027');
INSERT INTO t028 VALUES (1, 'data028');
INSERT INTO t029 VALUES (1, 'data029');
INSERT INTO t030 VALUES (1, 'data030');
INSERT INTO t031 VALUES (1, 'data031');
INSERT INTO t032 VALUES (1, 'data032');
INSERT INTO t033 VALUES (1, 'data033');
INSERT INTO t034 VALUES (1, 'data034');
INSERT INTO t035 VALUES (1, 'data035');
INSERT INTO t036 VALUES (1, 'data036');
INSERT INTO t037 VALUES (1, 'data037');
INSERT INTO t038 VALUES (1, 'data038');
INSERT INTO t039 VALUES (1, 'data039');
INSERT INTO t040 VALUES (1, 'data040');
INSERT INTO t041 VALUES (1, 'data041');
INSERT INTO t042 VALUES (1, 'data042');
INSERT INTO t043 VALUES (1, 'data043');
INSERT INTO t044 VALUES (1, 'data044');
INSERT INTO t045 VALUES (1, 'data045');
INSERT INTO t046 VALUES (1, 'data046');
INSERT INTO t047 VALUES (1, 'data047');
INSERT INTO t048 VALUES (1, 'data048');
INSERT INTO t049 VALUES (1, 'data049');
INSERT INTO t050 VALUES (1, 'data050');
INSERT INTO t051 VALUES (1, 'data051');
INSERT INTO t052 VALUES (1, 'data052');
INSERT INTO t053 VALUES (1, 'data053');
INSERT INTO t054 VALUES (1, 'data054');
INSERT INTO t055 VALUES (1, 'data055');
INSERT INTO t056 VALUES (1, 'data056');
INSERT INTO t057 VALUES (1, 'data057');
INSERT INTO t058 VALUES (1, 'data058');
INSERT INTO t059 VALUES (1, 'data059');
INSERT INTO t060 VALUES (1, 'data060');
INSERT INTO t061 VALUES (1, 'data061');
INSERT INTO t062 VALUES (1, 'data062');
INSERT INTO t063 VALUES (1, 'data063');
INSERT INTO t064 VALUES (1, 'data064');
INSERT INTO t065 VALUES (1, 'data065');
INSERT INTO t066 VALUES (1, 'data066');
INSERT INTO t067 VALUES (1, 'data067');
INSERT INTO t068 VALUES (1, 'data068');
INSERT INTO t069 VALUES (1, 'data069');
INSERT INTO t070 VALUES (1, 'data070');
INSERT INTO t071 VALUES (1, 'data071');
INSERT INTO t072 VALUES (1, 'data072');
INSERT INTO t073 VALUES (1, 'data073');
INSERT INTO t074 VALUES (1, 'data074');
INSERT INTO t075 VALUES (1, 'data075');
INSERT INTO t076 VALUES (1, 'data076');
INSERT INTO t077 VALUES (1, 'data077');
INSERT INTO t078 VALUES (1, 'data078');
INSERT INTO t079 VALUES (1, 'data079');
INSERT INTO t080 VALUES (1, 'data080');
INSERT INTO t081 VALUES (1, 'data081');
INSERT INTO t082 VALUES (1, 'data082');
INSERT INTO t083 VALUES (1, 'data083');
INSERT INTO t084 VALUES (1, 'data084');
INSERT INTO t085 VALUES (1, 'data085');
INSERT INTO t086 VALUES (1, 'data086');
INSERT INTO t087 VALUES (1, 'data087');
INSERT INTO t088 VALUES (1, 'data088');
INSERT INTO t089 VALUES (1, 'data089');
INSERT INTO t090 VALUES (1, 'data090');
INSERT INTO t091 VALUES (1, 'data091');
INSERT INTO t092 VALUES (1, 'data092');
INSERT INTO t093 VALUES (1, 'data093');
INSERT INTO t094 VALUES (1, 'data094');
INSERT INTO t095 VALUES (1, 'data095');
INSERT INTO t096 VALUES (1, 'data096');
INSERT INTO t097 VALUES (1, 'data097');
INSERT INTO t098 VALUES (1, 'data098');
INSERT INTO t099 VALUES (1, 'data099');
INSERT INTO t100 VALUES (1, 'data100');
